{"version":3,"sources":["Firebase.js","hooks/userContext.js","components/MyBook.js","hooks/useErrorField.js","components/BodyMyAccount.js","components/BookDescription.js","hooks/useAuthentication.js","components/Nav.js","components/Book.js","components/Body.js","hooks/useBasket.js","hooks/useSearchInput.js","components/Copyright.js","components/Authentication.js","components/CartItem.js","components/Cart.js","components/CheckoutItem.js","hooks/useSignUpForm.js","components/Checkout.js","components/SignUp.js","App.js","index.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","fire","db","firestore","auth","storage","UserContext","React","createContext","MyBook","props","useState","book","setMyBook","loading","setLoading","user","useContext","myStoreBooks","collection","doc","email","storeImage","useEffect","get","then","docs","data","className","src","img","alt","name","price","category","type","CircularProgress","color","onClick","delete","update","books","FieldValue","arrayRemove","refFromURL","console","log","catch","errorFile","err","Divider","useErrorField","error","setError","BodyMyAccount","css","display","margin","handleError","setName","description","setDescription","setPrice","setCategory","author","setAuthor","setType","setImg","setBooks","storeBooks","ref","BookImage","URL","createObjectURL","classes","makeStyles","theme","root","spacing","useStyles","unsubscribe","onSnapshot","exists","Fragment","Container","maxWidth","onSubmit","e","preventDefault","child","put","snapshot","getDownloadURL","url","Number","add","snap","arrayUnion","id","res","set","noValidate","autoComplete","FormControl","variant","InputLabel","htmlFor","OutlinedInput","value","onChange","target","label","FormHelperText","files","size","Alert","severity","map","BookDescription","bookId","useParams","setBook","useAuthentication","history","useHistory","logOut","signOut","localStorage","removeItem","replace","small","width","height","paper","marginRight","Nav","handleAuth","logOutME","displayNav","setDisplayNav","isCart","placeholder","search","handleSearch","IconButton","prev","Badge","badgeContent","cartLength","fontSize","push","displayName","href","Book","forwardRef","to","pathname","Button","action","payload","isAdded","handleClick","Body","createRef","categories","setCategories","open","setOpen","message","setMessage","handleClose","event","reason","Map","values","Snackbar","autoHideDuration","onClose","elevation","cate","index","includes","dispatch","useBasket","useReducer","state","basketRef","fetchPro","f","products","forEach","pro","item","initial","count","i","splice","basket","basketLength","useSearchInput","setSearch","useCallback","Copyright","Typography","align","Link","Date","getFullYear","Authentication","marginTop","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","submit","setEmail","password","setPassword","remember","setRemember","component","CssBaseline","Avatar","signInWithEmailAndPassword","userCredentials","setItem","JSON","stringify","uid","refreshToken","setUser","TextField","required","fullWidth","autoFocus","FormControlLabel","control","Checkbox","Grid","container","xs","Object","keys","Box","mt","CartItem","cartProduct","setCartProduct","cartitem","toString","parseFloat","toFixed","Cart","useRef","setHeight","cart","setCart","total","setTotal","setEror","gTotal","handleArrow","current","offsetWidth","scrollBy","AlertTitle","undefined","CheckoutItem","checkoutItem","checkItem","setCheckItem","useSignUpForm","callback","input","setInput","handleSubmit","handleInputChange","persist","inputs","Checkout","SignUp","createUserWithEmailAndPassword","updateProfile","firstName","lastName","sm","justify","require","config","App","setAuth","getItem","parse","onAuthStateChanged","userItem","unSubscribeToCart","exact","path","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44d37aa0.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\n// TODO: Replace the following with your app's Firebase project configuration\n// For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\n};\n// Initialize Firebase\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n} else {\n  firebase.app(); // if already initialized, use that one\n}\n\nconst db = firebase.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\nconst fire = { db, auth, storage };\n\nexport default fire;\n","import React from \"react\";\n\nconst UserContext = React.createContext();\n\nexport default UserContext;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport fire from \"../Firebase\";\nimport \"firebase/firestore\";\nimport firebase from \"firebase/app\";\nimport \"./MyBook.css\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport UserContext from \"../hooks/userContext\";\nimport { Divider } from \"@material-ui/core\";\nconst MyBook = (props) => {\n  const [book, setMyBook] = useState({});\n  const [loading, setLoading] = useState(true);\n  const user = useContext(UserContext);\n  const myStoreBooks = fire.db.collection(\"userbooks\").doc(user.email);\n  const storeImage = fire.storage;\n  useEffect(() => {\n    fire.db\n      .collection(\"books\")\n      .doc(props.book)\n      .get()\n      .then((docs) => {\n        setMyBook(docs.data());\n        setLoading(false);\n      });\n    return () => {\n      setMyBook({});\n    };\n  }, [props.book]);\n\n  const handleDelete = () => {\n    setLoading(true);\n    fire.db\n      .collection(\"books\")\n      .doc(props.book)\n      .delete()\n      .then(() => {\n        myStoreBooks\n          .update({\n            books: firebase.firestore.FieldValue.arrayRemove(props.book),\n          })\n          .then(() => {\n            const refToFile = storeImage.refFromURL(book.img);\n            refToFile\n              .delete()\n              .then(() => {\n                console.log(\"File Deleted Successfully\");\n                setLoading(false);\n              })\n              .catch((errorFile) => {\n                console.log(errorFile);\n                setLoading(false);\n              });\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n      });\n  };\n\n  return (\n    !loading && (\n      <div className=\"mybook\">\n        <img src={book.img} alt={props.book} />\n        <div className=\"mybook__field\">\n          <p className=\"mybook__name\">\n            <strong>Book Name :</strong>\n            {book.name}\n          </p>\n          <p className=\"mybook__price\">\n            <strong>Book Price :</strong>\n            {book.price}\n          </p>\n          <p className=\"mybook__price\">\n            <strong>Book Categary :</strong>\n            {book.category}\n          </p>\n          <p className=\"mybook__price\">\n            <strong>Book Type:</strong>\n            {book.type}\n          </p>\n        </div>\n        {loading ? (\n          <CircularProgress color=\"secondary\" />\n        ) : (\n          <button onClick={handleDelete}>{\"Delete\"}</button>\n        )}\n        <Divider />\n      </div>\n    )\n  );\n};\n\nexport default MyBook;\n","import { useState } from \"react\";\nconst useErrorField = () => {\n  const [error, setError] = useState(\"\");\n  const handleError = (err) => {\n    setError(err);\n  };\n  return [error, handleError];\n};\n\nexport default useErrorField;\n","import React, { useContext, useEffect } from \"react\";\nimport \"./BodyMyAccount.css\";\nimport { Alert } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Container,\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  OutlinedInput,\n} from \"@material-ui/core\";\nimport fire from \"../Firebase\";\nimport MyBook from \"../components/MyBook\";\nimport UserContext from \"../hooks/userContext\";\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport useErrorField from \"../hooks/useErrorField\";\n\nconst BodyMyAccount = (props) => {\n  const css = {\n    display: \"block\",\n    margin: \"0 auto\",\n  };\n  const user = useContext(UserContext);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, handleError] = useErrorField();\n\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [price, setPrice] = React.useState(0);\n  const [category, setCategory] = React.useState(\"\");\n  const [author, setAuthor] = React.useState(\"\");\n  const [type, setType] = React.useState(\"\");\n  const [img, setImg] = React.useState(\"\");\n  const [books, setBooks] = React.useState([]);\n\n  const storeBooks = fire.db.collection(\"books\");\n  const myStoreBooks = fire.db.collection(\"userbooks\").doc(user.email);\n\n  const storeImage = fire.storage.ref();\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      \"& > *\": {\n        margin: theme.spacing(5),\n      },\n    },\n  }));\n  const BookImage = () => {\n    return (\n      <div className=\"body__myAccountImage\">\n        <img src={URL.createObjectURL(img)} alt={img.name} />\n      </div>\n    );\n  };\n\n  const handleImage = (e) => {\n    setImg(e.target.files[0]);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (\n      name !== \"\" &&\n      type !== \"\" &&\n      category !== \"\" &&\n      description !== \"\" &&\n      price !== 0 &&\n      author !== \"\"\n    ) {\n      setLoading(true);\n      const myBook = storeImage.child(img.name);\n      myBook.put(img).then((snapshot) => {\n        // Add to the Array of the Books above\n        snapshot.ref.getDownloadURL().then((url) => {\n          const book = {\n            name: name,\n            type: type,\n            category: category,\n            description: description,\n            price: Number(price),\n            author: author,\n            img: url,\n          };\n          storeBooks.add(book).then((snap) => {\n            if (books.length > 0) {\n              myStoreBooks\n                .update({\n                  books: firebase.firestore.FieldValue.arrayUnion(snap.id),\n                })\n                .then((res) => {\n                  console.log(\"Document is update\");\n                });\n            } else {\n              myStoreBooks\n                .set({\n                  books: [snap.id],\n                })\n                .then((res) => {\n                  console.log(\"Document Setted\");\n                });\n            }\n          });\n          setLoading(false);\n        });\n      });\n    } else {\n      handleError(\"Please specify more data for The Book\");\n    }\n\n    setName(\"\");\n    setImg(\"\");\n    setPrice(0);\n    setDescription(\"\");\n    setType(\"\");\n    setAuthor(\"\");\n    setCategory(\"\");\n  };\n\n  const classes = useStyles();\n  useEffect(() => {\n    const unsubscribe = fire.db\n      .collection(\"userbooks\")\n      .doc(user.email)\n      .onSnapshot((doc) => {\n        if (doc.exists) {\n          setBooks(doc.data().books);\n          setLoading(false);\n        } else {\n          setLoading(false);\n        }\n      });\n    return () => {\n      unsubscribe();\n    };\n  }, [user.email]);\n\n  return (\n    <div className=\"body__myAccount\">\n      <React.Fragment>\n        <Container maxWidth=\"lg\">\n          <h1>Add Books</h1>\n          <form\n            onSubmit={handleSubmit}\n            className={classes.root}\n            noValidate\n            autoComplete=\"off\"\n          >\n            <FormControl variant=\"outlined\">\n              <InputLabel htmlFor=\"name\">Name</InputLabel>\n              <OutlinedInput\n                id=\"name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                label=\"Name\"\n              />\n              <FormHelperText id=\"component-helper-text\">\n                {\"Name Of The Book\"}\n              </FormHelperText>\n            </FormControl>\n            <FormControl variant=\"outlined\">\n              <InputLabel htmlFor=\"description\">Description</InputLabel>\n              <OutlinedInput\n                type=\"text\"\n                id=\"description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                label=\"Name\"\n              />\n              <FormHelperText id=\"component-helper-text\">\n                Description For the Book\n              </FormHelperText>\n            </FormControl>\n            <FormControl variant=\"outlined\">\n              <InputLabel htmlFor=\"price\">Price</InputLabel>\n              <OutlinedInput\n                type=\"number\"\n                id=\"price\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n                label=\"Name\"\n              />\n              <FormHelperText id=\"component-helper-text\">\n                Price For the Book\n              </FormHelperText>\n            </FormControl>\n            <FormControl variant=\"outlined\">\n              <InputLabel htmlFor=\"author\">Author</InputLabel>\n              <OutlinedInput\n                type=\"text\"\n                id=\"author\"\n                value={author}\n                onChange={(e) => setAuthor(e.target.value)}\n                label=\"Name\"\n              />\n              <FormHelperText id=\"component-helper-text\">\n                Author For the Book\n              </FormHelperText>\n            </FormControl>\n            <FormControl variant=\"outlined\">\n              <InputLabel htmlFor=\"type\">Type</InputLabel>\n              <OutlinedInput\n                type=\"text\"\n                id=\"type\"\n                value={type}\n                onChange={(e) => setType(e.target.value)}\n                label=\"Name\"\n              />\n              <FormHelperText id=\"component-helper-text\">\n                Type For the Book\n              </FormHelperText>\n            </FormControl>\n            <FormControl variant=\"outlined\">\n              <InputLabel htmlFor=\"category\">Category</InputLabel>\n              <OutlinedInput\n                type=\"text\"\n                id=\"category\"\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                label=\"Name\"\n              />\n              <FormHelperText id=\"component-helper-text\">\n                Category For the Book\n              </FormHelperText>\n            </FormControl>\n            <label htmlFor=\"file\">Choose a file : </label>\n            <input\n              type=\"file\"\n              id={\"file\"}\n              className={\"inputfile\"}\n              name=\"file\"\n              onChange={handleImage}\n            />\n            {img && <BookImage />}\n            <div>\n              {loading ? (\n                <BounceLoader loading={loading} css={css} size={150} />\n              ) : (\n                <button id=\"smt-button\" type=\"submit\">\n                  Submit\n                </button>\n              )}\n            </div>\n            {error && <Alert severity=\"error\">{error}</Alert>}\n          </form>\n        </Container>\n      </React.Fragment>\n      <div className=\"body__myAccountMyBooks\">\n        <React.Fragment>\n          <Container maxWidth=\"lg\">\n            <h1>My Books</h1>\n            {loading ? (\n              <BounceLoader loading={loading} css={css} size={150} />\n            ) : books.length <= 0 ? (\n              <p>{\"No Books\"}</p>\n            ) : (\n              books.map((book) => <MyBook key={book} book={book} />)\n            )}\n          </Container>\n        </React.Fragment>\n      </div>\n    </div>\n  );\n};\n\nexport default BodyMyAccount;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"./BookDescription.css\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport fire from \"../Firebase\";\nconst BookDescription = (props) => {\n  let { bookId } = useParams();\n  const [book, setBook] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fire.db\n      .collection(\"books\")\n      .doc(bookId)\n      .get()\n      .then((doc) => {\n        setBook(doc.data());\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [bookId]);\n  const css = {\n    display: \"flex\",\n    margin: \"auto\",\n  };\n  return loading ? (\n    <ClipLoader color={\"black\"} css={css} loading={loading} size={150} />\n  ) : (\n    <div className=\"bookdescription\">\n      <div className=\"bookdescription__title\">\n        <img src={book.img} alt={bookId} />\n        <h1>{book.name}</h1>\n      </div>\n      <h3>Author : {book.author}</h3>\n      <p>{book.description}</p>\n      <h3>Price : {book.price}</h3>\n      <h3>Type : {book.type}</h3>\n      <h3>Categary :{book.category}</h3>\n    </div>\n  );\n};\n\nexport default BookDescription;\n","import { useHistory } from \"react-router\";\nimport fire from \"../Firebase\";\nconst useAuthentication = (props) => {\n  const history = useHistory();\n\n  const logOut = () => {\n    fire.auth\n      .signOut()\n      .then(() => {\n        localStorage.removeItem(\"user\");\n        props();\n        history.replace(\"/sign\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return {\n    logOut,\n  };\n};\n\nexport default useAuthentication;\n","import React, { useContext } from \"react\";\nimport \"./Nav.css\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport Badge from \"@material-ui/core/Badge\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core\";\nimport UserContext from \"../hooks/userContext\";\nimport useAuthentication from \"../hooks/useAuthentication\";\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\nconst useStyles = makeStyles((theme) => ({\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4),\n  },\n  root: {\n    display: \"flex\",\n  },\n  paper: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst Nav = (props) => {\n  const history = useHistory();\n  const { logOut } = useAuthentication(props.handleAuth);\n  const classes = useStyles();\n  const user = useContext(UserContext);\n\n  const logOutME = (e) => {\n    logOut();\n  };\n\n  const pushToHome = () => {\n    history.push(\"/\");\n  };\n  const placeTheCart = () => {\n    history.push(\"/cart\");\n  };\n  const moveToMyBooks = () => {\n    history.push(\"/myaccount\");\n  };\n\n  const [displayNav, setDisplayNav] = React.useState(false);\n  return (\n    <div className=\"nav__master\">\n      <div className=\"nav\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Closed_Book_Icon.svg/1200px-Closed_Book_Icon.svg.png\"\n          alt=\"book\"\n        />\n        {!props.isCart && (\n          <input\n            placeholder={\"Enter a book to search\"}\n            value={props.search}\n            onChange={props.handleSearch}\n            type=\"text\"\n            className=\"nav__search\"\n          />\n        )}\n        <IconButton\n          id=\"displayNav\"\n          onClick={() => {\n            setDisplayNav((prev) => !prev);\n          }}\n        >\n          <Badge color=\"secondary\" badgeContent={props.cartLength}>\n            <ShoppingCartIcon fontSize=\"small\" className={classes.small} />\n          </Badge>\n        </IconButton>\n        <div className=\"nav__links\">\n          <div className=\"nav__linksButton\">\n            <IconButton onClick={pushToHome}>\n              <HomeIcon fontSize=\"small\" className={classes.small} />\n            </IconButton>\n          </div>\n          <div className=\"nav__linksButton\">\n            <IconButton onClick={placeTheCart}>\n              <Badge\n                fontSize=\"large\"\n                color=\"secondary\"\n                badgeContent={props.cartLength}\n              >\n                <ShoppingCartIcon fontSize=\"small\" className={classes.small} />\n              </Badge>\n            </IconButton>\n          </div>\n          <div className=\"nav__linksButton\">\n            <IconButton onClick={moveToMyBooks}>\n              <MenuBookIcon fontSize=\"small\" className={classes.small} />\n            </IconButton>\n          </div>\n          <div className=\"nav__linksButton\">\n            <span className=\"nav__linksEmail\">\n              {user.displayName ? user.displayName : user.email}\n            </span>\n            <div onClick={logOutME} className=\"nav__linksLogout\">\n              Logout\n            </div>\n          </div>\n        </div>\n      </div>\n      {displayNav && (\n        <div className=\"nav__linksMobileIcon\">\n          <ul className=\"nav__linksMobileList\">\n            <li>\n              <a href=\"/\">Home</a>\n            </li>\n            <li>\n              <a href=\"/myaccount\">My Books</a>\n            </li>\n            <li>\n              <a href=\"/cart\">Cart</a>\n            </li>\n            <li onClick={logOutME}>Logout</li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport \"./Book.css\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nconst Book = React.forwardRef((props, ref) => {\n  return (\n    <div ref={ref} className=\"book\">\n      <Link\n        to={{\n          pathname: `/product/${props.book.id}`,\n        }}\n      >\n        <div className=\"book__container\">\n          <img src={props.book.book.img} alt=\"\" />\n          <div className=\"book__containerDesc\">\n            <h3>{props.book.book.name}</h3>\n            <h3 className=\"book__containerDescAuthor author\">\n              By: {props.book.book.author}\n            </h3>\n            <h3 className=\"book__containerDescPrice\">\n              Cost: Rs {props.book.book.price}\n            </h3>\n          </div>\n        </div>\n      </Link>\n      <div className=\"book__button\">\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          className=\"book__buttonAdd\"\n          onClick={() => {\n            props.action({\n              type: \"ADD_TO_BASKET\",\n              payload: {\n                price: props.book.book.price,\n                id: props.book.id,\n              },\n            });\n            props.isAdded(true);\n            props.handleClick();\n          }}\n        >\n          Add\n        </Button>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          className=\"book__buttonRemove\"\n          onClick={() => {\n            props.action({\n              type: \"REMOVE_FROM_BASKET\",\n              payload: {\n                price: props.book.book.price,\n                id: props.book.id,\n              },\n            });\n            props.isAdded(false);\n            props.handleClick();\n          }}\n        >\n          Remove\n        </Button>\n      </div>\n    </div>\n  );\n});\n\nexport default Book;\n","import React, { useEffect } from \"react\";\nimport \"./Body.css\";\nimport Book from \"./Book\";\nimport fire from \"../Firebase\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nconst Body = (props) => {\n  const ref = React.createRef();\n  const [category, setCategory] = React.useState(\"\");\n  const [categories, setCategories] = React.useState([]);\n  const [books, setBooks] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [open, setOpen] = React.useState(false);\n  const [message, setMessage] = React.useState(true);\n  const handleChange = (event) => {\n    setCategory(event.target.value);\n  };\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n  const css = {\n    display: \"flex\",\n    margin: \"auto\",\n  };\n  useEffect(() => {\n    const key = \"category\";\n    fire.db\n      .collection(\"books\")\n      .get()\n      .then((snapshot) => {\n        setBooks(\n          snapshot.docs.map((book) => {\n            return {\n              id: book.id,\n              book: book.data(),\n            };\n          })\n        );\n        setCategories([\n          ...new Map(\n            snapshot.docs.map((book) => [book.data()[key], book.data()])\n          ).values(),\n        ]);\n        setLoading(false);\n      });\n  }, []);\n\n  return loading ? (\n    <ClipLoader color={\"black\"} css={css} loading={loading} size={150} />\n  ) : (\n    <div className=\"body\">\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n        <Alert\n          ref={ref}\n          elevation={6}\n          variant=\"filled\"\n          onClose={handleClose}\n          severity={message ? \"success\" : \"error\"}\n        >\n          {message ? \"Added to Basket\" : \"Removed From Basket\"}\n        </Alert>\n      </Snackbar>\n      <div className=\"body__filter\">\n        <div className=\"body__filterCategory\">\n          <label htmlFor=\"category\">Category : </label>\n          <select id=\"category\" value={category} onChange={handleChange}>\n            <option key={0} value={\"\"}>\n              {\"All\"}\n            </option>\n            {categories.map((cate, index) => (\n              <option className=\"category__option\" key={index + 1} value={cate.category}>\n                {cate.category}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"body__normalBody\">\n        {category === \"\"\n          ? books.map((book) => {\n              return (\n                book.book.name.includes(props.search) && (\n                  <Book\n                    isAdded={setMessage}\n                    key={book.id}\n                    book={book}\n                    handleClick={handleClick}\n                    action={props.dispatch}\n                  />\n                )\n              );\n            })\n          : books.map(\n              (book) =>\n                category === book.book.category && (\n                  <Book\n                    isAdded={setMessage}\n                    handleClick={handleClick}\n                    key={book.id}\n                    book={book}\n                    action={props.dispatch}\n                  />\n                )\n            )}\n      </div>\n    </div>\n  );\n};\n\nexport default Body;\n","import { useReducer } from \"react\";\nimport fire from \"../Firebase\";\n\nconst useBasket = (props) => {\n  const initialState = {\n    basket: [],\n    basketLength: 0,\n  };\n  const count = (products, id) => {\n    let index = -1;\n    products.forEach((item, i) => {\n      if (item.item === id) {\n        index = i;\n        return index;\n      }\n    });\n    return index;\n  };\n  const reducer = (state, action) => {\n    console.log(props.email);\n    const basketRef = fire.db.collection(\"cart\").doc(props.email);\n\n    switch (action.type) {\n      case \"ADD_TO_BASKET\":\n        basketRef.get().then((data) => {\n          if (data.exists) {\n            var fetchPro = data.data();\n            var f = true;\n            fetchPro.products.forEach((pro, index) => {\n              if (pro.item === action.payload.id) {\n                let initial = pro.count + 1;\n                fetchPro.products[index].count = initial;\n                f = false;\n              }\n            });\n            if (f) {\n              fetchPro.products.push({\n                count: 1,\n                item: action.payload.id,\n                price: action.payload.price,\n              });\n            }\n            basketRef.set(fetchPro);\n          } else {\n            basketRef.set({\n              products: [\n                {\n                  item: action.payload.id,\n                  count: 1,\n                  price: action.payload.price,\n                },\n              ],\n            });\n          }\n        });\n        return {\n          ...state,\n        };\n\n      case \"REMOVE_FROM_BASKET\":\n        basketRef.get().then((docs) => {\n          if (docs.exists) {\n            var fetchPro = docs.data();\n            const index = count(fetchPro.products, action.payload.id);\n            if (index > -1) {\n              if (fetchPro.products[index].count > 1) {\n                fetchPro.products[index].count =\n                  fetchPro.products[index].count - 1;\n              } else {\n                fetchPro.products.splice(index, 1);\n              }\n            }\n          }\n          basketRef.set(fetchPro);\n        });\n        return {\n          ...state,\n        };\n\n      default:\n        return { ...state };\n    }\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return {\n    state,\n    dispatch,\n  };\n};\n\nexport default useBasket;\n","import { useState, useCallback } from \"react\";\n\nconst useSearchInput = (props) => {\n  const [search, setSearch] = useState(\"\");\n  const handleSearch = useCallback(\n    (e) => {\n      setSearch(e.target.value);\n    },\n    [setSearch]\n  );\n  return {\n    search,\n    handleSearch,\n  };\n};\n\nexport default useSearchInput;\n","import React from \"react\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nexport default Copyright;\n","import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport { CssBaseline, CircularProgress } from \"@material-ui/core\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Copyright from \"./Copyright\";\nimport fire from \"../Firebase\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useHistory } from \"react-router\";\n\nfunction Authentication(props) {\n  const useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  console.log(\"Mounting\");\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [remember, setRemember] = useState(false);\n  const [error, setError] = useState({});\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    setLoading(true);\n    e.preventDefault();\n    fire.auth\n      .signInWithEmailAndPassword(email, password)\n      .then((userCredentials) => {\n        localStorage.setItem(\n          \"user\",\n          JSON.stringify({\n            email: userCredentials.user.email,\n            uid: userCredentials.user.uid,\n            refreshToken: userCredentials.user.refreshToken,\n          })\n        );\n        setLoading(false);\n        props.setUser(userCredentials.user);\n        history.replace(\"/\");\n        props.handleAuth();\n      })\n      .catch((err) => {\n        setError(err);\n        setLoading(false);\n      });\n  };\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            value={email}\n            autoComplete=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            autoComplete=\"current-password\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox\n                value={remember}\n                onChange={(e) => setRemember(!remember)}\n                color=\"primary\"\n              />\n            }\n            label=\"Remember me\"\n          />\n          {loading ? (\n            <CircularProgress />\n          ) : (\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n          )}\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"/signup\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      {Object.keys(error).length !== 0 && (\n        <Alert severity=\"error\">{error.message}</Alert>\n      )}\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\nexport default Authentication;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport \"./CartItem.css\";\nimport { Link } from \"react-router-dom\";\nimport fire from \"../Firebase\";\nimport useBasket from \"../hooks/useBasket\";\nimport UserContext from \"../hooks/userContext\";\nimport { Button } from \"@material-ui/core\";\nconst CartItem = (props) => {\n  const user = useContext(UserContext);\n  const [cartProduct, setCartProduct] = useState({});\n  const [loading, setLoading] = useState(false);\n  const { cartitem } = props;\n  const ref = React.createRef();\n\n  useEffect(() => {\n    const unsubscribe = fire.db\n      .collection(\"books\")\n      .doc(cartitem.item.toString())\n      .onSnapshot((docs) => {\n        if (docs.exists) {\n          setCartProduct(docs.data());\n          setLoading(false);\n        }\n      });\n    return () => {\n      unsubscribe();\n    };\n  }, [cartitem]);\n\n  const { dispatch } = useBasket(user);\n  return (\n    <div ref={ref} className=\"cartitem\">\n      {loading ? (\n        <img\n          alt=\"loading\"\n          src=\"https://media3.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif\"\n        />\n      ) : (\n        <Link\n          to={{\n            pathname: `/product/${cartitem.item.toString()}`,\n          }}\n        >\n          <img alt={cartProduct.price} src={cartProduct.img} />\n        </Link>\n      )}\n      <div className=\"cartitem__details\">\n        <p>\n          <strong>Price : </strong>\n          {cartProduct.price}{\" \"}\n        </p>\n        <p>\n          <strong>Quantity : </strong>\n          {props.cartitem.count}\n        </p>\n        <p>\n          <strong>Subtotal : </strong>\n          {cartProduct.price &&\n            (\n              parseFloat(cartitem.count) * parseFloat(cartProduct.price)\n            ).toFixed(2)}\n        </p>\n      </div>\n      <Button\n        color=\"secondary\"\n        variant=\"contained\"\n        onClick={() =>\n          dispatch({\n            type: \"REMOVE_FROM_BASKET\",\n            payload: {\n              price: cartProduct.price,\n              id: props.cartitem.item.toString(),\n            },\n          })\n        }\n      >\n        Remove\n      </Button>\n    </div>\n  );\n};\n\nexport default CartItem;\n","import React, { useEffect, useContext, useState, useRef } from \"react\";\nimport Nav from \"./Nav\";\nimport { useHistory } from \"react-router-dom\";\nimport CartItem from \"./CartItem\";\nimport fire from \"../Firebase\";\nimport UserContext from \"../hooks/userContext\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport AlertTitle from \"@material-ui/lab/AlertTitle\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport KeyboardArrowLeftIcon from \"@material-ui/icons/KeyboardArrowLeft\";\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport \"./Cart.css\";\nconst Cart = (props) => {\n  const css = {\n    display: \"flex\",\n    margin: \"auto\",\n  };\n  const history = useHistory();\n  const ref = useRef();\n  const [height, setHeight] = useState(0);\n  const user = useContext(UserContext);\n  const [cart, setCart] = useState({});\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setEror] = React.useState(\"\");\n  useEffect(() => {\n    const userCartRef = fire.db.collection(\"cart\").doc(user.email);\n    const unsubscribe = userCartRef.onSnapshot((doc) => {\n      if (doc.exists) {\n        let gTotal = 0;\n        setCart(doc.data());\n        doc.data().products.length <= 0 && setEror(\"No Items in the Cart !\");\n        doc.data().products.forEach((item, index) => {\n          gTotal = gTotal + item.price * item.count;\n        });\n        setTotal(gTotal);\n        setLoading(false);\n      } else {\n        setEror(\"No Items in the Cart !\");\n        setLoading(false);\n      }\n    });\n    return () => {\n      setHeight(0);\n      unsubscribe();\n      setTotal(0);\n    };\n  }, [user.email]);\n\n  const handleArrow = (value) => {\n    if (height + value < ref.current.offsetWidth) {\n      ref.current.scrollBy(value, 0);\n      setHeight((prev) => prev + value);\n    }\n  };\n\n  const linkToCheckout = () => {\n    history.push(\"/checkout\");\n  };\n\n  return loading ? (\n    <ClipLoader color={\"black\"} css={css} loading={loading} size={150} />\n  ) : (\n    <div className=\"cart\">\n      <Nav\n        isCart={props.isCart}\n        basket={props.basket}\n        cartLength={props.cartLength}\n        search={props.search}\n        handleAuth={props.handleAuth}\n        handleSearch={props.handleSearch}\n      />\n      <React.Fragment>\n        {error ? (\n          <Alert severity=\"info\">\n            <AlertTitle>Add Item to Cart</AlertTitle>\n            {error}\n          </Alert>\n        ) : (\n          <div ref={ref} className=\"cart__books\">\n            {cart.products !== undefined &&\n              cart.products.map((cartitem) => {\n                return <CartItem key={cartitem.item} cartitem={cartitem} />;\n              })}\n          </div>\n        )}\n        <Divider />\n        <div className=\"cart__placeOrder\">\n          <IconButton onClick={() => handleArrow(-100)}>\n            <KeyboardArrowLeftIcon />\n          </IconButton>\n          <h1>Total : {total && total.toFixed(2)}</h1>\n\n          <button\n            onClick={linkToCheckout}\n            className={\n              (cart.products ? cart.products.length : 0) > 0\n                ? \"cart__placeOrderEnabled\"\n                : \"cart__placeOrderDisabled\"\n            }\n          >\n            {\"Checkout\"}\n          </button>\n          <IconButton onClick={() => handleArrow(100)}>\n            <KeyboardArrowRightIcon />\n          </IconButton>\n        </div>\n      </React.Fragment>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, { useEffect, useState } from \"react\";\nimport \"./CheckoutItem.css\";\nimport fire from \"../Firebase\";\nconst CheckoutItem = ({ index, checkoutItem }) => {\n  const [checkItem, setCheckItem] = useState({});\n  useEffect(() => {\n    fire.db\n      .collection(\"books\")\n      .doc(checkoutItem.item)\n      .get()\n      .then((docs) => {\n        setCheckItem(docs.data());\n      });\n  }, [checkoutItem]);\n\n  return (\n    <div className=\"checkout__item\">\n      <img alt={checkItem.name} src={checkItem.img} />\n      <div className=\"checkout__itemInfo\">\n        <div className=\"checkout__itemInfoData\">\n          <span className=\"checkout__itemInfoHeading\">{\"Name :  \"}</span>\n          <span>{checkItem.name}</span>\n        </div>\n        <div className=\"checkout__itemInfoData\">\n          <span className=\"checkout__itemInfoHeading\">{\"Price :  \"}</span>\n          <span>{checkoutItem.price}</span>\n        </div>\n        <div className=\"checkout__itemInfoData\">\n          <span className=\"checkout__itemInfoHeading\">{\"Quantity :  \"}</span>\n          <span>{checkoutItem.count}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutItem;\n","import { useState } from \"react\";\nconst useSignUpForm = (callback) => {\n  const [input, setInput] = useState({});\n  const handleSubmit = (event) => {\n    if (event) {\n      event.preventDefault();\n    }\n    callback();\n  };\n  const handleInputChange = (event) => {\n    event.persist();\n    setInput((inputs) => ({\n      ...inputs,\n      [event.target.name]: event.target.value,\n    }));\n  };\n  return {\n    input,\n    handleSubmit,\n    handleInputChange,\n  };\n};\n\nexport default useSignUpForm;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Checkout.css\";\nimport { Link } from \"react-router-dom\";\nimport CheckoutItem from \"./CheckoutItem\";\nimport useSignUpForm from \"../hooks/useSignUpForm\";\nimport { Badge } from \"@material-ui/core\";\nconst Checkout = ({ cart }) => {\n  const [total, setTotal] = useState(0);\n  useEffect(() => {\n    let gTotal = 0;\n    cart.forEach((item) => {\n      gTotal = gTotal + item.price * item.count;\n    });\n    setTotal(gTotal);\n  }, [cart]);\n  const placeOrder = () => {};\n  const { input, handleSubmit, handleInputChange } = useSignUpForm(placeOrder);\n\n  return (\n    <div className=\"checkout\">\n      <h1>Checkout</h1>\n      <h3>Check the below items</h3>\n      <Link\n        to={{\n          pathname: `/cart`,\n        }}\n      >\n        Click here to change the cart\n      </Link>\n      <div className=\"checkout__items\">\n        {cart.map((checkoutItem, index) => (\n          <Badge\n            key={checkoutItem.item}\n            color=\"secondary\"\n            badgeContent={checkoutItem.count}\n          >\n            <CheckoutItem index={index} checkoutItem={checkoutItem} />\n          </Badge>\n        ))}\n      </div>\n\n      <div className=\"checkout__total\">\n        <h1>\n          <strong>Total : </strong> {total?.toFixed(2)}\n        </h1>\n      </div>\n\n      <div className=\"checkout__shipping\">\n        <form onSubmit={handleSubmit} className=\"form__shipping\">\n          <label htmlFor=\"name\">Name :</label>\n          <input\n            placeholder=\"Name\"\n            onChange={handleInputChange}\n            name=\"name\"\n            type=\"text\"\n          />\n          <label htmlFor=\"address1\">Address Line 1 :</label>\n          <input\n            placeholder=\"Address Line 1\"\n            onChange={handleInputChange}\n            name=\"address1\"\n            type=\"text\"\n          />\n          <label htmlFor=\"address2\">Address Line 2 :</label>\n          <input\n            placeholder=\"Address Line 2\"\n            onChange={handleInputChange}\n            name=\"address2\"\n            type=\"text\"\n          />\n          <label htmlFor=\"phone\">Phone :</label>\n          <input\n            placeholder=\"Mobile Number\"\n            onChange={handleInputChange}\n            name=\"phone\"\n            type=\"tel\"\n          />\n          <button type=\"submit\">{\"Order Now\"}</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Copyright from \"./Copyright\";\nimport useSignUpForm from \"../hooks/useSignUpForm\";\nimport useErrorField from \"../hooks/useErrorField\";\nimport { Alert } from \"@material-ui/lab\";\nimport fire from \"../Firebase\";\nimport RingLoader from \"react-spinners/RingLoader\";\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const [error, handleError] = useErrorField();\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const signup = () => {\n    setLoading(true);\n    fire.auth\n      .createUserWithEmailAndPassword(input.email, input.password)\n      .then((userCredentials) => {\n        if (userCredentials) {\n          const signedUpUser = userCredentials.user;\n          signedUpUser\n            .updateProfile({\n              displayName: input.firstName + \" \" + input.lastName,\n            })\n            .then(() => {\n              setMessage(\"User Created Login To Continue !\");\n              setLoading(false);\n            });\n        }\n      })\n      .catch((err) => {\n        handleError(err.message);\n        setLoading(false);\n      });\n  };\n  const { input, handleSubmit, handleInputChange } = useSignUpForm(signup);\n  const css = {\n    display: \"block\",\n    margin: \"0 auto\",\n  };\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                onChange={handleInputChange}\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                autoFocus\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastName\"\n                onChange={handleInputChange}\n                label=\"Last Name\"\n                name=\"lastName\"\n                autoComplete=\"lname\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                onChange={handleInputChange}\n                label=\"Email Address\"\n                name=\"email\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                onChange={handleInputChange}\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n              />\n            </Grid>\n          </Grid>\n          {loading ? (\n            <RingLoader color={\"blue\"} loading={loading} css={css} size={150} />\n          ) : (\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign Up\n            </Button>\n          )}\n          {error && <Alert severity=\"error\">{error}</Alert>}\n          {message && <Alert severity=\"success\">{message}</Alert>}\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/sign\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import \"./App.css\";\nimport BodyMyAccount from \"./components/BodyMyAccount\";\nimport React, { useState, useEffect } from \"react\";\nimport BookDescription from \"./components/BookDescription\";\nimport Nav from \"./components/Nav\";\nimport Body from \"./components/Body\";\nimport useBasket from \"./hooks/useBasket\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport useSearchInput from \"./hooks/useSearchInput\";\nimport Authentication from \"./components/Authentication\";\nimport Cart from \"./components/Cart\";\nimport UserContext from \"./hooks/userContext\";\nimport fire from \"./Firebase\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport Checkout from \"./components/Checkout\";\nimport SignUp from \"./components/SignUp\";\nrequire(\"dotenv\").config();\nfunction App() {\n  const { search, handleSearch } = useSearchInput();\n  const [auth, setAuth] = useState(false);\n  const [user, setUser] = useState({});\n  const [cart, setCart] = useState([]);\n  const handleAuth = () => {\n    if (auth) {\n      setAuth(false);\n    } else {\n      setAuth(true);\n    }\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"user\") != null) {\n      setUser(JSON.parse(localStorage.getItem(\"user\")));\n      setAuth(true);\n    }\n    const unsubscribe = firebase.auth().onAuthStateChanged((userItem) => {\n      if (userItem) {\n        setUser(userItem);\n        localStorage.setItem(\n          \"user\",\n          JSON.stringify({\n            email: userItem.email,\n            uid: userItem.uid,\n            refreshToken: userItem.refreshToken,\n          })\n        );\n      } else {\n        localStorage.removeItem(\"user\");\n        setAuth(false);\n        setUser({});\n        setCart([]);\n      }\n    });\n    const unSubscribeToCart = fire.db\n      .collection(\"cart\")\n      .doc(user.email)\n      .onSnapshot((doc) => {\n        doc.exists && setCart(doc.data().products);\n      });\n    return () => {\n      unsubscribe();\n      unSubscribeToCart();\n      setAuth(false);\n      setUser({});\n      setCart([]);\n    };\n  }, [user.email]);\n\n  const { dispatch } = useBasket(user);\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n          <Route exact path=\"/myaccount\">\n            <UserContext.Provider value={user}>\n              <React.Fragment>\n                <Nav\n                  cartLength={cart.length}\n                  isCart={true}\n                  search={search}\n                  setUser={setUser}\n                  handleAuth={handleAuth}\n                  handleSearch={handleSearch}\n                />\n                <BodyMyAccount />\n              </React.Fragment>\n            </UserContext.Provider>\n          </Route>\n          <Route exact path=\"/product/:bookId\">\n            <UserContext.Provider value={user}>\n              <React.Fragment>\n                <Nav\n                  cartLength={cart.length}\n                  isCart={true}\n                  search={search}\n                  setUser={setUser}\n                  handleAuth={handleAuth}\n                  handleSearch={handleSearch}\n                />\n                <BookDescription />\n              </React.Fragment>\n            </UserContext.Provider>\n          </Route>\n\n          <Route exact path=\"/cart\">\n            {user ? (\n              <UserContext.Provider value={user}>\n                <Cart\n                  isCart={true}\n                  cartLength={cart.length}\n                  search={search}\n                  setUser={setUser}\n                  handleAuth={handleAuth}\n                  handleSearch={handleSearch}\n                />\n              </UserContext.Provider>\n            ) : (\n              <Redirect to=\"/sign\" />\n            )}\n          </Route>\n          <Route exact path=\"/\">\n            {auth ? (\n              <UserContext.Provider value={user}>\n                <React.Fragment>\n                  <Nav\n                    cartLength={cart.length}\n                    isCart={false}\n                    search={search}\n                    setUser={setUser}\n                    handleAuth={handleAuth}\n                    handleSearch={handleSearch}\n                  />\n                  <Body dispatch={dispatch} search={search} />\n                </React.Fragment>\n              </UserContext.Provider>\n            ) : (\n              <Redirect to=\"/sign\" />\n            )}\n          </Route>\n          <Route exact path=\"/sign\">\n            {auth ? (\n              <Redirect to=\"/\" />\n            ) : (\n              <Authentication handleAuth={handleAuth} />\n            )}\n          </Route>\n          <Route exact path=\"/signup\">\n            <SignUp />\n          </Route>\n          <Route exact path=\"/checkout\">\n            <Checkout cart={cart} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}