{"version":3,"sources":["Firebase.js","hooks/userContext.js","components/MyBook.js","hooks/useErrorField.js","components/BodyMyAccount.js","components/BookDescription.js","hooks/useAuthentication.js","components/Nav.js","components/Book.js","components/Body.js","hooks/useBasket.js","hooks/useSearchInput.js","components/Copyright.js","components/Authentication.js","components/CartItem.js","components/Cart.js","components/CheckoutItem.js","hooks/useSignUpForm.js","components/Checkout.js","components/SignUp.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","fire","db","firestore","auth","storage","UserContext","React","createContext","MyBook","props","useState","book","setMyBook","loading","setLoading","user","useContext","myStoreBooks","collection","doc","email","storeImage","useEffect","get","then","docs","data","className","src","img","alt","name","price","category","type","CircularProgress","color","onClick","delete","update","books","FieldValue","arrayRemove","refFromURL","console","log","catch","errorFile","err","Divider","useErrorField","error","setError","BodyMyAccount","css","display","margin","handleError","setName","description","setDescription","setPrice","setCategory","author","setAuthor","setType","setImg","setBooks","storeBooks","ref","BookImage","URL","createObjectURL","classes","makeStyles","theme","root","spacing","useStyles","unsubscribe","onSnapshot","exists","Fragment","Container","maxWidth","onSubmit","e","preventDefault","child","put","snapshot","getDownloadURL","url","Number","add","snap","arrayUnion","id","res","set","noValidate","autoComplete","FormControl","variant","InputLabel","htmlFor","OutlinedInput","value","onChange","target","label","FormHelperText","files","size","Alert","severity","map","BookDescription","bookId","useParams","setBook","useAuthentication","history","useHistory","logOut","signOut","localStorage","removeItem","replace","small","width","height","paper","marginRight","Nav","handleAuth","logOutME","displayNav","setDisplayNav","isCart","placeholder","search","handleSearch","IconButton","prev","Badge","badgeContent","cartLength","fontSize","push","displayName","href","Book","forwardRef","to","pathname","Button","action","payload","isAdded","handleClick","Body","createRef","categories","setCategories","open","setOpen","message","setMessage","handleClose","event","reason","Map","values","Snackbar","autoHideDuration","onClose","elevation","cate","index","includes","dispatch","useBasket","useReducer","state","basketRef","fetchPro","f","products","forEach","pro","item","initial","count","i","splice","basket","basketLength","useSearchInput","setSearch","useCallback","Copyright","Typography","align","Link","Date","getFullYear","Authentication","marginTop","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","submit","setEmail","password","setPassword","remember","setRemember","component","CssBaseline","Avatar","signInWithEmailAndPassword","userCredentials","setItem","JSON","stringify","uid","refreshToken","setUser","TextField","required","fullWidth","autoFocus","FormControlLabel","control","Checkbox","Grid","container","xs","Object","keys","Box","mt","CartItem","cartProduct","setCartProduct","cartitem","toString","parseFloat","toFixed","Cart","useRef","setHeight","cart","setCart","total","setTotal","setEror","gTotal","handleArrow","current","offsetWidth","scrollBy","AlertTitle","undefined","CheckoutItem","checkoutItem","checkItem","setCheckItem","useSignUpForm","callback","input","setInput","handleSubmit","handleInputChange","persist","inputs","Checkout","SignUp","createUserWithEmailAndPassword","updateProfile","firstName","lastName","sm","justify","App","setAuth","getItem","parse","onAuthStateChanged","userItem","unSubscribeToCart","exact","path","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ecffd9ec.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\"\r\nimport \"firebase/storage\";\r\n// TODO: Replace the following with your app's Firebase project configuration\r\n// For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field\r\nconst firebaseConfig = {\r\n   apiKey: \"AIzaSyDTrOyNC5qTXeBzGQYovXGrpwYUIKkxC_0\",\r\n   authDomain: \"ecom-books.firebaseapp.com\",\r\n   projectId: \"ecom-books\",\r\n   storageBucket: \"ecom-books.appspot.com\",\r\n   messagingSenderId: \"294495034922\",\r\n   appId: \"1:294495034922:web:3250cb251567d712406d53\",\r\n   measurementId: \"G-K2EFV6FZRK\"\r\n};\r\n// Initialize Firebase\r\nif (!firebase.apps.length) {\r\n   firebase.initializeApp(firebaseConfig);\r\n} else {\r\n   firebase.app(); // if already initialized, use that one\r\n}\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\nconst fire = { db, auth, storage }\r\n\r\nexport default fire;","import React from 'react';\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport default UserContext;","import React, { useContext, useEffect, useState } from 'react';\r\nimport fire from '../Firebase';\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/app';\r\nimport './MyBook.css'\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport UserContext from '../hooks/userContext';\r\nimport { Divider } from '@material-ui/core';\r\nconst MyBook = (props) => {\r\n  const [book, setMyBook] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const user = useContext(UserContext);\r\n  const myStoreBooks = fire.db.collection(\"userbooks\").doc(user.email);\r\n  const storeImage = fire.storage\r\n  useEffect(() => {\r\n    fire.db.collection('books').doc(props.book).get().then(docs => {\r\n      setMyBook(docs.data());\r\n      setLoading(false);\r\n    });\r\n    return () => {\r\n      setMyBook({});\r\n    }\r\n  }, [props.book])\r\n\r\n  const handleDelete = () => {\r\n    setLoading(true);\r\n    fire.db.collection('books').doc(props.book).delete().then(() => {\r\n      myStoreBooks.update({\r\n        books: firebase.firestore.FieldValue.arrayRemove(props.book)\r\n      }).then(() => {\r\n        const refToFile = storeImage.refFromURL(book.img);\r\n        refToFile.delete().then(() => {\r\n          console.log(\"File Deleted Successfully\");\r\n          setLoading(false);\r\n        }).catch(errorFile => {\r\n          console.log(errorFile);\r\n          setLoading(false);\r\n        })\r\n      })\r\n    }).catch(err => {\r\n      console.log(err);\r\n      setLoading(false);\r\n    })\r\n  }\r\n\r\n  return !loading && (\r\n    <div className=\"mybook\">\r\n      <img src={book.img} alt={props.book} />\r\n      <div className=\"mybook__field\">\r\n        <p\r\n          className=\"mybook__name\">\r\n          <strong>\r\n            Book Name :\r\n              </strong>\r\n          {book.name}\r\n        </p>\r\n        <p\r\n          className=\"mybook__price\">\r\n          <strong>\r\n            Book Price :\r\n              </strong>\r\n          {book.price}\r\n        </p>\r\n        <p\r\n          className=\"mybook__price\">\r\n          <strong>\r\n            Book Categary :\r\n              </strong>\r\n          {book.category}\r\n        </p>\r\n        <p\r\n          className=\"mybook__price\">\r\n          <strong>\r\n            Book Type:\r\n              </strong>\r\n          {book.type}\r\n        </p>\r\n      </div>\r\n      { loading ?\r\n        <CircularProgress color=\"secondary\" /> :\r\n        <button\r\n          onClick={handleDelete}>\r\n          {\"Delete\"}\r\n        </button>}\r\n      <Divider />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyBook;","import { useState } from 'react';\r\nconst useErrorField = () => {\r\n    const [error, setError] = useState('')\r\n    const handleError = (err) => {\r\n        setError(err);\r\n    }\r\n    return [error, handleError];\r\n}\r\n\r\nexport default useErrorField","import React, { useContext, useEffect } from 'react';\r\nimport './BodyMyAccount.css'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Container, FormControl, FormHelperText, InputLabel, OutlinedInput } from '@material-ui/core';\r\nimport fire from '../Firebase';\r\nimport MyBook from '../components/MyBook';\r\nimport UserContext from '../hooks/userContext';\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\nimport BounceLoader from \"react-spinners/BounceLoader\";\r\nimport useErrorField from '../hooks/useErrorField';\r\n\r\nconst BodyMyAccount = (props) => {\r\n  const css =\r\n  {\r\n    display: 'block',\r\n    margin: '0 auto'\r\n  };\r\n  const user = useContext(UserContext);\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, handleError] = useErrorField();\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [price, setPrice] = React.useState(0);\r\n  const [category, setCategory] = React.useState('');\r\n  const [author, setAuthor] = React.useState('');\r\n  const [type, setType] = React.useState('');\r\n  const [img, setImg] = React.useState(\"\");\r\n  const [books, setBooks] = React.useState([]);\r\n\r\n  const storeBooks = fire.db.collection(\"books\");\r\n  const myStoreBooks = fire.db.collection(\"userbooks\").doc(user.email);\r\n\r\n  const storeImage = fire.storage.ref()\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      '& > *': {\r\n        margin: theme.spacing(5),\r\n      },\r\n    },\r\n  }));\r\n  const BookImage = () => {\r\n    return (\r\n      <div className=\"body__myAccountImage\">\r\n        <img src={URL.createObjectURL(img)} alt={img.name} />\r\n      </div>);\r\n  }\r\n\r\n  const handleImage = (e) => {\r\n    setImg(e.target.files[0]);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (name !== \"\" &&\r\n      type !== \"\" &&\r\n      category !== \"\" &&\r\n      description !== \"\" &&\r\n      price !== 0 &&\r\n      author !== \"\"\r\n    ) {\r\n      setLoading(true);\r\n      const myBook = storeImage.child(img.name);\r\n      myBook.put(img).then(snapshot => {\r\n        // Add to the Array of the Books above\r\n        snapshot.ref.getDownloadURL().then(url => {\r\n          const book = {\r\n            name: name,\r\n            type: type,\r\n            category: category,\r\n            description: description,\r\n            price: Number(price),\r\n            author: author,\r\n            img: url\r\n          }\r\n          storeBooks.add(book).then(snap => {\r\n            if (books.length > 0) {\r\n              myStoreBooks.update({\r\n                books: firebase.firestore.FieldValue.arrayUnion(snap.id)\r\n              }).then(res => {\r\n                console.log(\"Document is update\")\r\n              })\r\n            } else {\r\n              myStoreBooks.set({\r\n                books: [snap.id]\r\n              }).then(res => {\r\n                console.log(\"Document Setted\");\r\n              })\r\n            }\r\n          })\r\n          setLoading(false);\r\n        });\r\n      })\r\n    } else {\r\n      handleError('Please specify more data for The Book')\r\n    }\r\n\r\n    setName(\"\");\r\n    setImg(\"\");\r\n    setPrice(0);\r\n    setDescription(\"\");\r\n    setType(\"\");\r\n    setAuthor(\"\");\r\n    setCategory(\"\");\r\n  }\r\n\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n\r\n    const unsubscribe = fire.db.collection(\"userbooks\").doc(user.email).onSnapshot(doc => {\r\n      if (doc.exists) {\r\n        setBooks(doc.data().books);\r\n        setLoading(false);\r\n      } else {\r\n        setLoading(false)\r\n      }\r\n    })\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, [user.email]);\r\n\r\n  return (\r\n    <div className=\"body__myAccount\">\r\n      <React.Fragment>\r\n        <Container maxWidth=\"lg\">\r\n           <h1>Add Books</h1>\r\n          <form onSubmit={handleSubmit} className={classes.root} noValidate autoComplete=\"off\">\r\n            <FormControl\r\n              variant=\"outlined\">\r\n              <InputLabel\r\n                htmlFor=\"name\">\r\n                Name\r\n                  </InputLabel>\r\n              <OutlinedInput\r\n                id=\"name\" value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                label=\"Name\" />\r\n              <FormHelperText\r\n                id=\"component-helper-text\">\r\n                {\"Name Of The Book\"}\r\n              </FormHelperText>\r\n            </FormControl>\r\n            <FormControl variant=\"outlined\">\r\n              <InputLabel htmlFor=\"description\">Description</InputLabel>\r\n              <OutlinedInput type=\"text\" id=\"description\" value={description} onChange={(e) => setDescription(e.target.value)} label=\"Name\" />\r\n              <FormHelperText id=\"component-helper-text\">Description For the Book</FormHelperText>\r\n            </FormControl>\r\n            <FormControl variant=\"outlined\">\r\n              <InputLabel htmlFor=\"price\">Price</InputLabel>\r\n              <OutlinedInput  type=\"number\" id=\"price\" value={price} onChange={(e) => setPrice(e.target.value)} label=\"Name\" />\r\n              <FormHelperText id=\"component-helper-text\">Price For the Book</FormHelperText>\r\n            </FormControl>\r\n            <FormControl variant=\"outlined\">\r\n              <InputLabel htmlFor=\"author\">Author</InputLabel>\r\n              <OutlinedInput type=\"text\" id=\"author\" value={author} onChange={(e) => setAuthor(e.target.value)} label=\"Name\" />\r\n              <FormHelperText id=\"component-helper-text\">Author For the Book</FormHelperText>\r\n            </FormControl>\r\n            <FormControl variant=\"outlined\">\r\n              <InputLabel htmlFor=\"type\">Type</InputLabel>\r\n              <OutlinedInput type=\"text\" id=\"type\" value={type} onChange={(e) => setType(e.target.value)} label=\"Name\" />\r\n              <FormHelperText id=\"component-helper-text\">Type For the Book</FormHelperText>\r\n            </FormControl>\r\n            <FormControl variant=\"outlined\">\r\n              <InputLabel htmlFor=\"category\">Category</InputLabel>\r\n              <OutlinedInput type=\"text\" id=\"category\" value={category} onChange={(e) => setCategory(e.target.value)} label=\"Name\" />\r\n              <FormHelperText id=\"component-helper-text\">Category For the Book</FormHelperText>\r\n            </FormControl>\r\n            <label htmlFor=\"file\">Choose a file : </label>\r\n            <input type=\"file\"\r\n              id={'file'}\r\n              className={'inputfile'}\r\n              name=\"file\"\r\n              onChange={handleImage} />\r\n            {\r\n              img && <BookImage />\r\n            }\r\n            <div>\r\n              {loading ?\r\n                <BounceLoader\r\n                  loading={loading}\r\n                  css={css}\r\n                  size={150} /> :\r\n                <button\r\n                  id=\"smt-button\"\r\n                  type=\"submit\">\r\n                  Submit\r\n                           </button>}\r\n            </div>\r\n            {error && <Alert severity=\"error\">{error}</Alert>}\r\n          </form>\r\n        </Container>\r\n      </React.Fragment>\r\n      <div className=\"body__myAccountMyBooks\">\r\n        <React.Fragment>\r\n          <Container maxWidth=\"lg\">\r\n            <h1>\r\n              My Books\r\n    \t\t\t\t  </h1>\r\n            {\r\n              loading ?\r\n                <BounceLoader\r\n                  loading={loading}\r\n                  css={css}\r\n                  size={150} /> :\r\n                books.length <= 0 ?\r\n                  <p>{\"No Books\"}</p> :\r\n                  books.map(book => <MyBook key={book} book={book} />)\r\n            }\r\n          </Container>\r\n        </React.Fragment>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BodyMyAccount;","import React, {useEffect, useState} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport './BookDescription.css';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport fire from '../Firebase';\r\nconst BookDescription = (props) => {\r\n\tlet {bookId} = useParams();\r\n\tconst [book, setBook] = useState({});\r\n\tconst [loading, setLoading]=useState(true); \r\n\tuseEffect(()=>{\r\n\t\tfire.db.collection('books').doc(bookId).get().then(doc=>{\r\n\t\t\tsetBook(doc.data());\r\n\t\t\tsetLoading(false);\r\n\t\t}).catch(err=>{\r\n\t\t\tconsole.log(err);\r\n\t\t})\r\n\t}, [bookId])\r\n\tconst css = {\r\n    'display': 'flex',\r\n    'margin': 'auto',\r\n  }\r\n\treturn loading ? \r\n\t\t<ClipLoader color={\"black\"} css={css} loading={loading} size={150} /> :  \r\n\t\t(\r\n\t\t<div className=\"bookdescription\">\r\n\t\t\t<div className=\"bookdescription__title\">\r\n\t\t\t\t<img src={book.img} alt={bookId} />\r\n\t\t\t\t<h1>{book.name}</h1>\r\n\t\t\t</div>\r\n\t\t\t<h3>Author : {book.author}</h3>\r\n\t\t\t<p>\r\n\t\t\t\t{book.description}\r\n\t\t\t</p>\r\n\t\t\t<h3>Price : {book.price}</h3>\r\n\t\t\t<h3>Type : {book.type}</h3>\r\n\t\t\t<h3>Categary :{book.category}</h3>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BookDescription;","import { useHistory } from 'react-router'\r\nimport fire from '../Firebase';\r\nconst useAuthentication = (props) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst logOut = () => {\r\n\t\tfire.auth.signOut().then(() => {\r\n\t\t\tlocalStorage.removeItem('user');\r\n\t\t\tprops();\r\n\t\t\thistory.replace('/sign');\r\n\t\t}).catch(err => {\r\n\t\t\tconsole.log(err);\r\n\t\t})\r\n\t}\r\n\treturn {\r\n\t\tlogOut\r\n\t}\r\n}\r\n\r\nexport default useAuthentication;","import React, { useContext } from 'react';\r\nimport './Nav.css'\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core'\r\nimport UserContext from '../hooks/userContext';\r\nimport useAuthentication from '../hooks/useAuthentication';\r\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\r\nconst useStyles = makeStyles((theme) => ({\r\n  small: {\r\n    width: theme.spacing(4),\r\n    height: theme.spacing(4),\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  paper: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst Nav = (props) => {\r\n  const history = useHistory();\r\n  const { logOut } = useAuthentication(props.handleAuth);\r\n  const classes = useStyles();\r\n  const user = useContext(UserContext);\r\n\r\n\r\n\r\n  const logOutME = (e) => {\r\n    logOut();\r\n  }\r\n\r\n\r\n  const pushToHome = () => {\r\n    history.push(\"/\");\r\n  }\r\n  const placeTheCart = () => {\r\n    history.push(\"/cart\");\r\n  }\r\n  const moveToMyBooks = () => {\r\n    history.push(\"/myaccount\");\r\n  }\r\n\r\n  const [displayNav, setDisplayNav] = React.useState(false);\r\n  return (\r\n    <div className=\"nav__master\">\r\n      <div className=\"nav\">\r\n        <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Closed_Book_Icon.svg/1200px-Closed_Book_Icon.svg.png\" alt=\"book\" />\r\n        {!props.isCart &&\r\n          <input\r\n            placeholder={\"Enter a book to search\"}\r\n            value={props.search}\r\n            onChange={props.handleSearch}\r\n            type=\"text\" />}\r\n        <IconButton id=\"displayNav\" onClick={() => {\r\n          setDisplayNav(prev => !prev);\r\n        }}>\r\n          <Badge color=\"secondary\" badgeContent={props.cartLength}>\r\n            <ShoppingCartIcon\r\n              fontSize=\"small\"\r\n              className={classes.small} />\r\n          </Badge>\r\n        </IconButton>\r\n        <div className=\"nav__links\">\r\n          <div className=\"nav__linksButton\">\r\n            <IconButton onClick={pushToHome}>\r\n              <HomeIcon\r\n                fontSize=\"small\"\r\n                className={classes.small} />\r\n            </IconButton>\r\n          </div>\r\n          <div className=\"nav__linksButton\">\r\n            <IconButton\r\n              onClick={placeTheCart}>\r\n              <Badge\r\n                fontSize=\"large\"\r\n                color=\"secondary\"\r\n                badgeContent={props.cartLength}>\r\n\r\n                <ShoppingCartIcon\r\n                  fontSize=\"small\"\r\n                  className={classes.small} />\r\n              </Badge>\r\n            </IconButton>\r\n          </div>\r\n          <div\r\n            className=\"nav__linksButton\">\r\n            <IconButton\r\n              onClick={moveToMyBooks}>\r\n              <MenuBookIcon\r\n                fontSize=\"small\"\r\n                className={classes.small} />\r\n            </IconButton>\r\n          </div>\r\n          <div\r\n            className=\"nav__linksButton\">\r\n            <span className=\"nav__linksEmail\">{user.displayName ? user.displayName : user.email}</span>\r\n            <div\r\n              onClick={logOutME}\r\n              className=\"nav__linksLogout\">\r\n              Logout\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {displayNav &&\r\n        <div className=\"nav__linksMobileIcon\">\r\n          <ul className=\"nav__linksMobileList\">\r\n            <li>\r\n              <a href=\"/\">\r\n                Home\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a href=\"/myaccount\">\r\n                My Books</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"/cart\">\r\n                Cart</a></li>\r\n            <li onClick={logOutME}>Logout</li>\r\n          </ul>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport './Book.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\nconst Book = React.forwardRef((props, ref) => {\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className=\"book\">\r\n      <Link to={{\r\n        pathname: `/product/${props.book.id}`,\r\n      }}>\r\n        <div className=\"book__container\">\r\n          <img src={props.book.book.img} alt=\"\" />\r\n          <div className=\"book__containerDesc\">\r\n            <h3>\r\n              {props.book.book.name}\r\n            </h3>\r\n            <h3 className=\"book__containerDescAuthor author\">\r\n              By: {props.book.book.author}\r\n            </h3>\r\n            <h3 className=\"book__containerDescPrice\">\r\n              Cost: Rs {props.book.book.price}\r\n            </h3>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <div className=\"book__button\">\r\n        <Button\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          className=\"book__buttonAdd\"\r\n          onClick={() => {\r\n            props.action({\r\n              type: 'ADD_TO_BASKET', payload: {\r\n                price: props.book.book.price,\r\n                id: props.book.id\r\n              }\r\n            })\r\n            props.isAdded(true);\r\n            props.handleClick();\r\n          }\r\n          }>\r\n          Add\r\n         </Button>\r\n        <Button\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          className=\"book__buttonRemove\"\r\n          onClick={() => {\r\n            props.action({\r\n              type: \"REMOVE_FROM_BASKET\",\r\n              payload: {\r\n                price: props.book.book.price,\r\n                id: props.book.id\r\n              }\r\n            })\r\n            props.isAdded(false);\r\n            props.handleClick();\r\n          }\r\n          }\r\n        >Remove</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n)\r\n\r\nexport default Book;","import React, {useEffect} from 'react';\r\nimport './Body.css'\r\nimport Book from './Book'\r\nimport fire from '../Firebase';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Alert from '@material-ui/lab/Alert';\r\nconst Body = (props) => {\r\n  const ref = React.createRef();\r\n  const [category, setCategory] = React.useState('');\r\n  const [categories, setCategories]=React.useState([]);\r\n  const [books, setBooks]=React.useState([]);\r\n  const [loading , setLoading]=React.useState(true);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [message, setMessage]=React.useState(true);\r\n  const handleChange = (event) => {\r\n    setCategory(event.target.value);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  const css = {\r\n    'display': 'flex',\r\n    'margin': 'auto',\r\n  }\r\n  useEffect(()=>{\r\n    const key=\"category\";\r\n    fire.db.collection('books').get().then(snapshot=>{\r\n      setBooks(snapshot.docs.map(book=>{\r\n        return {\r\n          id : book.id,\r\n          book: book.data()\r\n        }\r\n      }));\r\n      setCategories([...new Map(snapshot.docs.map(book=>[book.data()[key],book.data()])).values()]) \r\n      setLoading(false);\r\n    })\r\n  },[])\r\n  \r\n    return loading ? \r\n    <ClipLoader color={\"black\"} css={css} loading={loading} size={150} /> \r\n    :\r\n     (\r\n      <div className=\"body\">\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n          <Alert\r\n            ref={ref}\r\n            elevation={6} \r\n            variant=\"filled\" \r\n            onClose={handleClose} \r\n            severity={message ? \r\n                      \"success\" : \r\n                      \"error\"}>\r\n          {message ? \r\n            \"Added to Basket\" : \r\n            \"Removed From Basket\"}\r\n        </Alert>\r\n      </Snackbar>\r\n      \t<div className=\"body__filter\">\r\n      \t\t<div className=\"body__filterCategory\">\r\n            <label htmlFor=\"category\">Category : </label>\r\n  \t        <select\r\n  \t          id=\"category\"\r\n  \t          value={category}\r\n  \t          onChange={handleChange}\r\n  \t        >\r\n            <option  key={0} value={''}>{\"All\"}</option>\r\n  \t\t\t{\r\n\r\n  \t\t\t\tcategories.map((cate, index)=>(\r\n  \t\t\t\t\t\t<option  key={index + 1} value={cate.category}>{cate.category}</option>))\r\n  \t\t\t}\r\n  \t        </select>\r\n          </div>\r\n      \t</div>\r\n      \r\n              <div className=\"body__normalBody\">\r\n            {\r\n               category === ''  ?  books.map(book=>{\r\n                 return book.book.name.includes(props.search) \r\n                 && \r\n                 <Book \r\n                       isAdded={setMessage}\r\n                       key={book.id}  \r\n                       book={book}\r\n                       handleClick={handleClick} \r\n                       action={props.dispatch}/>\r\n                   }) : \r\n               books.map(book=>(\r\n                category === book.book.category &&\r\n                  <Book \r\n                        isAdded={setMessage}\r\n                        handleClick={handleClick}\r\n                        key={book.id} \r\n                        book={book}\r\n                        action={props.dispatch}/>  \r\n                ))\r\n            }\r\n            </div>\r\n       \r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Body;","import {useReducer} from 'react';\r\nimport fire from '../Firebase';\r\n\r\nconst useBasket = (props) => {\r\n \r\n  const initialState ={\r\n    basket: [],\r\n    basketLength:0\r\n  };\r\n  const count = (products, id)=>{\r\n    let index = -1;\r\n    products.forEach((item, i)=>{\r\n      if (item.item ===id) {\r\n        index = i;\r\n        return index;\r\n      }\r\n    })\r\n    return index;\r\n  }\r\n  const reducer = (state, action) =>{\r\n    console.log(props.email)\r\n    const basketRef = fire.db.collection('cart').doc(props.email)\r\n\r\n  \tswitch(action.type)\r\n  \t{\r\n\r\n  \t\tcase 'ADD_TO_BASKET':\r\n          basketRef.get().then(data=>{\r\n            if (data.exists) {\r\n              var fetchPro = data.data();\r\n              var f = true;\r\n              fetchPro.products.forEach((pro, index)=>{\r\n                if (pro.item === action.payload.id) {\r\n                  let initial = pro.count + 1;\r\n                  fetchPro.products[index].count = initial;\r\n                  f = false;\r\n                }\r\n              })\r\n              if (f) {\r\n                fetchPro.products.push({\r\n                  count : 1,\r\n                  item: action.payload.id,\r\n                  price : action.payload.price\r\n                })\r\n              }\r\n               basketRef.set(fetchPro);\r\n            }else{\r\n              basketRef.set({\r\n                products: [{item :action.payload.id, \r\n                            count : 1, \r\n                            price : action.payload.price}],\r\n              })\r\n            }\r\n          })\r\n          return {\r\n            ...state,\r\n          }\r\n         \r\n              \r\n      case 'REMOVE_FROM_BASKET':\r\n             basketRef.get().then(docs=>{\r\n               if (docs.exists) {\r\n                 var fetchPro = docs.data();\r\n                 const index = count(fetchPro.products,action.payload.id);\r\n                 if (index > -1) {\r\n                   if (fetchPro.products[index].count > 1) {\r\n                     fetchPro.products[index].count = fetchPro.products[index].count - 1;\r\n                   }else{\r\n                     fetchPro.products.splice(index,1);  \r\n                   } \r\n                 }\r\n               }\r\n               basketRef.set(fetchPro);\r\n             })\r\n             return{\r\n               ...state\r\n             }\r\n         \r\n  \t\tdefault : return {...state};\r\n  \t}\r\n  }\r\n  const [state, dispatch]=useReducer(reducer, initialState);\r\n  return {\r\n  \tstate,\r\n  \tdispatch\r\n  }\r\n}\r\n\r\nexport default useBasket;","import {useState, useCallback} from 'react';\r\n\r\nconst useSearchInput = (props) => {\r\n \r\n \tconst [search, setSearch]=useState('');\r\n  \tconst handleSearch = useCallback((e)=>{\r\n  \t\tsetSearch(e.target.value);\r\n  \t},[setSearch])\r\n  \treturn {\r\n  \t\tsearch,\r\n  \t\thandleSearch\r\n  \t}\r\n}\r\n\r\nexport default useSearchInput;","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nexport default Copyright;","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport{ CssBaseline,CircularProgress }from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Copyright from './Copyright';\r\nimport fire from '../Firebase';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { useHistory } from 'react-router'\r\n\r\n\r\nfunction Authentication(props) {\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }));\r\n  console.log(\"Mounting\");\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [remember, setRemember] = useState(false);\r\n  const [error, setError] = useState({});\r\n  const [loading, setLoading]=useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    fire.auth.signInWithEmailAndPassword(email, password).then(userCredentials => {\r\n\r\n      localStorage.setItem('user', JSON.stringify({\r\n        email: userCredentials.user.email,\r\n        uid: userCredentials.user.uid,\r\n        refreshToken: userCredentials.user.refreshToken\r\n      }))\r\n      setLoading(false);\r\n      props.setUser(userCredentials.user);\r\n      history.replace('/')\r\n      props.handleAuth();\r\n    }).catch(err => {\r\n      setError(err);\r\n      setLoading(false);\r\n    })\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n    \r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            value={email}\r\n            autoComplete=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox \r\n              value={remember} \r\n              onChange={(e) => setRemember(!remember)} \r\n              color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          { loading? \r\n            <CircularProgress/> :\r\n            <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n              Sign In\r\n            </Button>}\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      {\r\n\r\n        Object.keys(error).length !== 0 && (<Alert severity=\"error\">{error.message}</Alert>)\r\n\r\n      }\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\nexport default Authentication;","import React, { useEffect, useState, useContext } from 'react';\r\nimport './CartItem.css'\r\nimport {Link} from 'react-router-dom'\r\nimport fire from '../Firebase';\r\nimport useBasket from '../hooks/useBasket'\r\nimport UserContext from '../hooks/userContext';\r\nimport {Button} from '@material-ui/core';\r\nconst CartItem = (props) => {\r\n  const user = useContext(UserContext);\r\n  const [cartProduct, setCartProduct] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const { cartitem } = props;\r\n  const ref = React.createRef();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = fire.db.collection('books').doc(cartitem.item.toString()).onSnapshot(docs => {\r\n      if (docs.exists) {\r\n        setCartProduct(docs.data());\r\n        setLoading(false);\r\n      }\r\n    });\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, [cartitem])\r\n\r\n  const { dispatch } = useBasket(user);\r\n  return (\r\n   \r\n     <div ref={ref} \r\n             className=\"cartitem\">\r\n            {loading ?\r\n              <img alt=\"loading\" src=\"https://media3.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif\" /> :\r\n              <Link to={{\r\n                pathname: `/product/${cartitem.item.toString()}`\r\n              }}><img alt={cartProduct.price} src={cartProduct.img} /></Link>}\r\n            <div\r\n             \r\n              className=\"cartitem__details\">\r\n              <p><strong>Price : </strong>{cartProduct.price}  </p>\r\n              <p><strong>Quantity : </strong>{props.cartitem.count}</p>\r\n              <p><strong>Subtotal : </strong>{cartProduct.price && (parseFloat(cartitem.count) * parseFloat(cartProduct.price)).toFixed(2)}\r\n              </p>\r\n            </div>\r\n            <Button\r\n             color=\"secondary\"\r\n             variant=\"contained\"\r\n              onClick={() => dispatch({\r\n                type: \"REMOVE_FROM_BASKET\", payload: {\r\n                  price: cartProduct.price,\r\n                  id: props.cartitem.item.toString()\r\n                }\r\n              })}>\r\n            Remove\r\n            </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartItem;","import React, { useEffect, useContext, useState, useRef } from 'react';\r\nimport Nav from './Nav';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CartItem from './CartItem'\r\nimport fire from '../Firebase'\r\nimport UserContext from '../hooks/userContext';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport AlertTitle from '@material-ui/lab/AlertTitle';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport './Cart.css'\r\nconst Cart = (props) => {\r\n  const css = {\r\n    'display': 'flex',\r\n    'margin': 'auto',\r\n  }\r\n  const history=useHistory();\r\n  const ref = useRef();\r\n  const [height, setHeight]=useState(0);\r\n  const user = useContext(UserContext);\r\n  const [cart, setCart] = useState({});\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setEror] = React.useState('');\r\n  useEffect(() => {\r\n\r\n    const userCartRef = fire.db.collection('cart').doc(user.email);\r\n    const unsubscribe = userCartRef.onSnapshot((doc) => {\r\n      if (doc.exists) {\r\n        let gTotal = 0;\r\n        setCart(doc.data());\r\n        doc.data().products.length <= 0 && setEror(\"No Items in the Cart !\");\r\n        doc.data().products.forEach((item, index) => {\r\n          gTotal = gTotal + (item.price * item.count);\r\n        })\r\n        setTotal(gTotal);\r\n        setLoading(false);\r\n      } else {\r\n        setEror(\"No Items in the Cart !\");\r\n        setLoading(false);\r\n      }\r\n    });\r\n    return () => {\r\n      setHeight(0);\r\n      unsubscribe();\r\n      setTotal(0);\r\n    }\r\n  }, [user.email]);\r\n \r\n  const handleArrow = (value) =>{\r\n    if(height + value < ref.current.offsetWidth)\r\n    {\r\n      ref.current.scrollBy(value,0);\r\n      setHeight(prev=>prev + value);\r\n    }     \r\n  }\r\n  \r\n  const linkToCheckout =()=>{\r\n    history.push(\"/checkout\");\r\n  }\r\n\r\n  return loading ?\r\n    <ClipLoader color={\"black\"} css={css} loading={loading} size={150} /> :\r\n    (\r\n      <div className=\"cart\">\r\n        <Nav\r\n          isCart={props.isCart}\r\n          basket={props.basket}\r\n          cartLength={props.cartLength}\r\n          search={props.search}\r\n          handleAuth={props.handleAuth}\r\n          handleSearch={props.handleSearch}\r\n        />\r\n        <React.Fragment>\r\n         \r\n            {\r\n              error ?\r\n                <Alert severity=\"info\">\r\n                  <AlertTitle>Add Item to Cart</AlertTitle>\r\n                  {error}\r\n                </Alert> :\r\n                <div ref={ref} className=\"cart__books\">\r\n                  {\r\n                    cart.products !== undefined && cart.products.map(cartitem =>\r\n                      {\r\n\r\n                        return (<CartItem\r\n                       \r\n                          key={cartitem.item}\r\n                          cartitem={cartitem} />)\r\n                      }\r\n                  \r\n                    )\r\n                  }\r\n                </div>\r\n            }\r\n            <Divider/>\r\n            <div className=\"cart__placeOrder\">\r\n              <IconButton\r\n                onClick={()=>handleArrow(-100)}\r\n                >\r\n                <KeyboardArrowLeftIcon/>\r\n              </IconButton>\r\n              <h1>Total :  {total && total.toFixed(2)}</h1>\r\n\r\n              <button\r\n                onClick={linkToCheckout}\r\n                className={(cart.products ? \r\n                          cart.products.length : 0)> 0 ? \r\n                          \"cart__placeOrderEnabled\" : \r\n                          \"cart__placeOrderDisabled\"}>\r\n                {\"Checkout\"}\r\n              </button>\r\n              <IconButton \r\n                onClick={()=>handleArrow(100)}\r\n              >\r\n                <KeyboardArrowRightIcon/>\r\n              </IconButton>\r\n            </div>\r\n        </React.Fragment>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Cart;","import React, {useEffect, useState} from 'react';\r\nimport './CheckoutItem.css';\r\nimport fire from '../Firebase';\r\nconst CheckoutItem = ({index,checkoutItem}) => {\r\n  const [checkItem, setCheckItem]=useState({});\r\n  useEffect(()=>{\r\n  \tfire.db.collection('books').doc(checkoutItem.item).get().then(docs=>{\r\n  \t\tsetCheckItem(docs.data());\r\n  \t})\r\n  },[checkoutItem])\r\n \r\n  return (\r\n    <div className=\"checkout__item\">\r\n    \t<img alt={checkItem.name} src={checkItem.img}/>\r\n    \t<div className=\"checkout__itemInfo\">\r\n    \t\t<div className=\"checkout__itemInfoData\">\r\n          <span className=\"checkout__itemInfoHeading\">\r\n            {\"Name :  \"}\r\n          </span>\r\n          <span>\r\n            {checkItem.name}\r\n          </span>\r\n        </div>\r\n        <div className=\"checkout__itemInfoData\">\r\n          <span className=\"checkout__itemInfoHeading\">\r\n          {\"Price :  \"}\r\n          </span>\r\n          <span>\r\n           {checkoutItem.price}\r\n          </span>\r\n        </div>\r\n        <div className=\"checkout__itemInfoData\">\r\n          <span className=\"checkout__itemInfoHeading\">\r\n            {\"Quantity :  \"}\r\n          </span>\r\n          <span>\r\n            {checkoutItem.count}\r\n          </span>\r\n        </div>\r\n    \t</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutItem;","import { useState } from 'react';\r\nconst useSignUpForm = (callback) => {\r\n    const [input, setInput] = useState({});\r\n    const handleSubmit = (event) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n        callback();\r\n    }\r\n    const handleInputChange = (event) => {\r\n        event.persist();\r\n        setInput(inputs => ({ ...inputs, [event.target.name]: event.target.value }));\r\n    }\r\n    return {\r\n        input, handleSubmit, handleInputChange\r\n    };\r\n}\r\n\r\nexport default useSignUpForm","import React, { useState, useEffect } from 'react';\r\nimport './Checkout.css';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutItem from './CheckoutItem';\r\nimport useSignUpForm from '../hooks/useSignUpForm';\r\nimport { Badge } from '@material-ui/core'\r\nconst Checkout = ({ cart }) => {\r\n  const [total, setTotal] = useState(0);\r\n  useEffect(() => {\r\n    let gTotal = 0;\r\n    cart.forEach((item) => {\r\n      gTotal = gTotal + (item.price * item.count);\r\n    })\r\n    setTotal(gTotal);\r\n  }, [cart]);\r\n  const placeOrder = () => {\r\n    \r\n  }\r\n  const { input, handleSubmit, handleInputChange } = useSignUpForm(placeOrder);\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <h1>Checkout</h1>\r\n      <h3>Check the below items</h3>\r\n      <Link to={{\r\n        pathname: `/cart`,\r\n      }}>Click here to change the cart</Link>\r\n      <div className=\"checkout__items\">\r\n        {\r\n          cart.map((checkoutItem, index) => <Badge key={checkoutItem.item} color=\"secondary\" badgeContent={checkoutItem.count}><CheckoutItem  index={index} checkoutItem={checkoutItem} /></Badge>)\r\n        }\r\n      </div>\r\n\r\n      <div className=\"checkout__total\">\r\n        <h1><strong>Total : </strong> {total}</h1>\r\n      </div>\r\n\r\n\r\n      <div className=\"checkout__shipping\">\r\n        <form onSubmit={handleSubmit} className=\"form__shipping\">\r\n          <label htmlFor='name'>Name :</label>\r\n          <input placeholder='Name' onChange={handleInputChange} name=\"name\" type=\"text\" />\r\n          <label htmlFor='address1'>Address Line 1 :</label>\r\n          <input placeholder=\"Address Line 1\" onChange={handleInputChange} name=\"address1\" type=\"text\" />\r\n          <label htmlFor='address2'>Address Line 2 :</label>\r\n          <input placeholder=\"Address Line 2\" onChange={handleInputChange} name=\"address2\" type=\"text\" />\r\n          <label htmlFor='phone'>Phone :</label>\r\n          <input placeholder=\"Mobile Number\" onChange={handleInputChange} name=\"phone\" type=\"tel\" />\r\n          <button type=\"submit\">{\"Order Now\"}</button>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkout;","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Copyright from './Copyright';\r\nimport useSignUpForm from '../hooks/useSignUpForm';\r\nimport useErrorField from '../hooks/useErrorField'\r\nimport { Alert } from '@material-ui/lab';\r\nimport fire from '../Firebase';\r\nimport RingLoader from \"react-spinners/RingLoader\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const [error, handleError] = useErrorField();\r\n  const [message, setMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const signup = () => {\r\n    setLoading(true);\r\n    fire.auth.createUserWithEmailAndPassword(input.email, input.password).then(userCredentials => {\r\n      if (userCredentials) {\r\n        const signedUpUser = userCredentials.user;\r\n        signedUpUser.updateProfile({\r\n          displayName: input.firstName + \" \" + input.lastName\r\n        }).then(() => {\r\n          setMessage(\"User Created Login To Continue !\");\r\n          setLoading(false);\r\n        })\r\n      }\r\n    }).catch(err => {\r\n      handleError(err.message);\r\n      setLoading(false);\r\n    })\r\n  }\r\n  const { input, handleSubmit, handleInputChange } = useSignUpForm(signup);\r\n  const css = {\r\n    display: 'block',\r\n    margin: '0 auto'\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                onChange={handleInputChange}\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                onChange={handleInputChange}\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                onChange={handleInputChange}\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                onChange={handleInputChange}\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n\r\n              />\r\n            </Grid>\r\n\r\n          </Grid>\r\n          {loading ?\r\n            <RingLoader color={'blue'} loading={loading} css={css} size={150} />\r\n            : <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign Up\r\n         </Button>}\r\n          {error && <Alert severity=\"error\">{error}</Alert>}\r\n          {message && <Alert severity=\"success\">{message}</Alert>}\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link href=\"/sign\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}","import './App.css';\nimport BodyMyAccount from './components/BodyMyAccount';\nimport React, { useState, useEffect } from 'react';\nimport BookDescription from './components/BookDescription';\nimport Nav from './components/Nav';\nimport Body from './components/Body'\nimport useBasket from './hooks/useBasket'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport useSearchInput from './hooks/useSearchInput';\nimport Authentication from './components/Authentication';\nimport Cart from './components/Cart'\nimport UserContext from './hooks/userContext';\nimport fire from './Firebase';\nimport firebase from 'firebase/app';\nimport \"firebase/auth\";\nimport Checkout from './components/Checkout';\nimport SignUp from './components/SignUp';\nfunction App() {\n\n  const { search, handleSearch } = useSearchInput();\n  const [auth, setAuth] = useState(false);\n  const [user, setUser] = useState({});\n  const [cart, setCart] = useState([]);\n  const handleAuth = () => {\n\n    if (auth) {\n      setAuth(false);\n    } else {\n      setAuth(true);\n    }\n  }\n  useEffect(() => {\n\n    if (localStorage.getItem('user') != null) {\n      setUser(JSON.parse(localStorage.getItem('user')));\n      setAuth(true);\n    }\n    const unsubscribe = firebase.auth().onAuthStateChanged(userItem => {\n      if (userItem) {\n        setUser(userItem);\n        localStorage.setItem('user', JSON.stringify({\n          email: userItem.email,\n          uid: userItem.uid,\n          refreshToken: userItem.refreshToken\n        }))\n      } else {\n        localStorage.removeItem('user');\n        setAuth(false);\n        setUser({});\n        setCart([]);\n      }\n    })\n    const unSubscribeToCart = fire.db.collection('cart').doc(user.email).onSnapshot(doc => {\n      doc.exists && setCart(doc.data().products);\n    })\n    return () => {\n      unsubscribe();\n      unSubscribeToCart()\n      setAuth(false);\n      setUser({});\n      setCart([]);\n    }\n  }, [user.email])\n\n  const { dispatch } = useBasket(user);\n  return (\n    <Router>\n      <div className=\"app\">\n\n        <Switch>\n          <Route exact path=\"/myaccount\">\n            <UserContext.Provider\n              value={user}>\n              <React.Fragment>\n                <Nav\n                  cartLength={cart.length}\n                  isCart={true}\n                  search={search}\n                  setUser={setUser}\n                  handleAuth={handleAuth}\n                  handleSearch={handleSearch} />\n                <BodyMyAccount />\n              </React.Fragment>\n            </UserContext.Provider>\n          </Route>\n          <Route exact path=\"/product/:bookId\">\n            <UserContext.Provider value={user}>\n              <React.Fragment>\n                <Nav\n                  cartLength={cart.length}\n                  isCart={true}\n                  search={search}\n                  setUser={setUser}\n                  handleAuth={handleAuth}\n                  handleSearch={handleSearch} />\n                <BookDescription />\n              </React.Fragment>\n            </UserContext.Provider>\n          </Route>\n\n          <Route exact path=\"/cart\">\n            {\n              user ?\n                <UserContext.Provider value={user}>\n                  <Cart\n                    isCart={true}\n                    cartLength={cart.length}\n                    search={search}\n                    setUser={setUser}\n                    handleAuth={handleAuth}\n                    handleSearch={handleSearch}\n                  />\n                </UserContext.Provider>\n                : <Redirect to=\"/sign\" />\n            }\n          </Route>\n          <Route exact path=\"/\">\n            {auth ?\n              <UserContext.Provider value={user}>\n                <React.Fragment>\n                  <Nav\n                    cartLength={cart.length}\n                    isCart={false}\n                    search={search}\n                    setUser={setUser}\n                    handleAuth={handleAuth}\n                    handleSearch={handleSearch} />\n                  <Body dispatch={dispatch}\n                    search={search} />\n                </React.Fragment>\n              </UserContext.Provider>\n              : <Redirect to=\"/sign\" />}\n          </Route>\n          <Route exact path=\"/sign\">\n            {auth ?\n              <Redirect to=\"/\" /> :\n              <Authentication\n                handleAuth={handleAuth} />}\n          </Route>\n          <Route exact path=\"/signup\">\n            <SignUp />\n          </Route>\n          <Route exact path=\"/checkout\">\n            <Checkout cart={cart} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}